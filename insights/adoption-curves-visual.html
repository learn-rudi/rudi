<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EdTech Adoption Curves</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --gray-900: #161616;
            --gray-700: #393939;
            --gray-600: #525252;
            --gray-500: #6f6f6f;
            --gray-400: #8d8d8d;
            --gray-300: #a8a8a8;
            --gray-200: #c6c6c6;
            --gray-100: #e0e0e0;
            --gray-50: #f4f4f4;
            --white: #ffffff;
            --accent: #c75b39;
        }

        html, body {
            overflow: hidden;
            height: 100%;
        }
        body {
            font-family: 'IBM Plex Sans', sans-serif;
            background: var(--gray-900);
            color: var(--gray-100);
            padding: 24px 24px 16px;
            display: flex;
            flex-direction: column;
        }

        .header {
            margin-bottom: 16px;
            flex-shrink: 0;
        }

        .label {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 8px;
        }

        h2 {
            font-size: 20px;
            font-weight: 400;
            color: var(--white);
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 14px;
            color: var(--gray-400);
            max-width: 500px;
        }

        .chart-container {
            background: #0f0f0f;
            border-radius: 6px;
            border: 1px solid #1a1a1a;
            flex: 1;
            min-height: 0;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 6px 12px;
            margin-top: 12px;
            flex-shrink: 0;
        }

        .legend-btn {
            background: transparent;
            border: 1px solid #333;
            border-radius: 3px;
            padding: 4px 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .legend-btn:hover, .legend-btn.active {
            background: var(--tech-color-bg);
            border-color: var(--tech-color-border);
        }

        .legend-btn .swatch {
            width: 16px;
            height: 3px;
            border-radius: 2px;
        }

        .legend-btn .lbl {
            font-size: 11px;
            color: var(--gray-400);
            font-family: 'IBM Plex Mono', monospace;
            transition: color 0.2s;
        }

        .legend-btn:hover .lbl, .legend-btn.active .lbl {
            color: var(--white);
        }

        .detail-panel {
            min-height: 70px;
            background: #111;
            border: 1px solid #1a1a1a;
            border-radius: 4px;
            padding: 12px 16px;
            margin-top: 10px;
            flex-shrink: 0;
        }

        .detail-header {
            display: flex;
            align-items: baseline;
            gap: 10px;
            margin-bottom: 8px;
        }

        .detail-name {
            font-size: 16px;
            font-weight: 500;
        }

        .detail-years {
            font-size: 11px;
            color: var(--gray-500);
            font-family: 'IBM Plex Mono', monospace;
        }

        .detail-desc {
            font-size: 13px;
            color: var(--gray-400);
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .detail-forcing {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .detail-forcing-label {
            font-size: 10px;
            color: var(--gray-500);
            font-family: 'IBM Plex Mono', monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .detail-forcing-value {
            font-size: 12px;
            color: var(--gray-300);
        }

        .detail-forcing-value.highlight {
            color: var(--accent);
            font-style: italic;
        }

        .placeholder {
            font-size: 12px;
            color: var(--gray-600);
            font-style: italic;
        }

        .tech-path { transition: opacity 0.3s, stroke-width 0.3s; }
    </style>
</head>
<body>
    <div class="header">
        <div class="label">Historical Pattern</div>
        <h2>EdTech Adoption Curves</h2>
        <p class="subtitle">Every major technology required years of support infrastructure — or a crisis that forced instant change.</p>
    </div>

    <div class="chart-container">
        <svg id="chart" viewBox="0 0 760 380" style="width:100%;display:block;"></svg>
    </div>

    <div class="legend" id="legend"></div>
    <div class="detail-panel" id="detail-panel">
        <p class="placeholder">Click or hover on a technology to see details</p>
    </div>

    <script>
        const techData = [
            { name: "Computer Labs", shortName: "Computer Labs", start: 1980, saturated: 1997, color: "#4a7c4e", description: "Physical infrastructure, lab coordinators, faculty training", adoptionYears: "~17 years", forcingFunction: "Curriculum requirements, federal funding" },
            { name: "Email in Higher Ed", shortName: "Email", start: 1993, saturated: 2005, color: "#8B6914", description: "Network infrastructure, cultural shift from paper memos", adoptionYears: "~12 years", forcingFunction: "Administrative necessity, student expectation" },
            { name: "PowerPoint", shortName: "PowerPoint", start: 1995, saturated: 2008, color: "#B8640C", description: "Replaced overhead projectors, required classroom AV", adoptionYears: "~13 years", forcingFunction: "Equipment upgrades, peer adoption" },
            { name: "Learning Management Systems", shortName: "LMS", start: 2000, saturated: 2016, color: "#2a6a96", description: "Blackboard, Canvas — procurement, training, course migration", adoptionYears: "~16 years", forcingFunction: "Institutional mandates, accreditation pressure" },
            { name: "Online Learning", shortName: "Online Learning", start: 2002, saturated: 2020, color: "#7C4483", description: "Slow growth for 18 years, then COVID compressed the last mile", adoptionYears: "~18 years (COVID accelerated)", forcingFunction: "COVID-19 pandemic" },
            { name: "Zoom", shortName: "Zoom", start: 2020, saturated: 2020.7, color: "#C04040", description: "Forced adoption in weeks — the only true overnight shift", adoptionYears: "~3 months", forcingFunction: "COVID-19 pandemic (crisis = instant adoption)" },
            { name: "Generative AI", shortName: "Gen AI", start: 2022, saturated: null, color: "#c75b39", description: "No forcing function like COVID. Pressure building, timeline unknown.", adoptionYears: "? years — we're here now", forcingFunction: "None yet. That's the problem." },
        ];

        const chartLeft = 60, chartRight = 720, chartTop = 30, chartBottom = 340;
        const chartWidth = chartRight - chartLeft, chartHeight = chartBottom - chartTop;
        const startYear = 1978, endYear = 2030;

        let hoveredTech = null, selectedTech = null, animProgress = 0;

        function sigmoid(x) { return 1 / (1 + Math.exp(-x)); }

        function getAdoptionRate(tech, year) {
            if (year < tech.start) return 0;
            if (tech.shortName === "Zoom") {
                if (year < 2020) return 0;
                return Math.min(sigmoid((year - 2020) * 12 - 3) * 95, 95);
            }
            if (tech.shortName === "Gen AI") {
                if (year < 2022) return 0;
                return sigmoid(((year - 2022) / 3) * 4 - 2) * 35;
            }
            const midpoint = (tech.start + tech.saturated) / 2;
            const spread = (tech.saturated - tech.start) / 6;
            return Math.min(sigmoid((year - midpoint) / spread) * 92, 92);
        }

        function yearToX(year) { return chartLeft + ((year - startYear) / (endYear - startYear)) * chartWidth; }
        function rateToY(rate) { return chartBottom - (rate / 100) * chartHeight; }

        function generatePath(tech, progress) {
            const pts = [];
            const yearEnd = tech.shortName === "Gen AI" ? 2026 : tech.saturated ? tech.saturated + 2 : 2026;
            for (let y = tech.start; y <= yearEnd; y += 0.25) {
                pts.push(`${yearToX(y).toFixed(1)},${rateToY(getAdoptionRate(tech, y) * progress).toFixed(1)}`);
            }
            return `M${pts.join("L")}`;
        }

        function createSVG(tag, attrs = {}) {
            const el = document.createElementNS("http://www.w3.org/2000/svg", tag);
            for (const [k, v] of Object.entries(attrs)) el.setAttribute(k, v);
            return el;
        }

        function buildChart() {
            const svg = document.getElementById("chart");
            svg.innerHTML = "";

            [0, 25, 50, 75].forEach(rate => {
                svg.appendChild(createSVG("line", { x1: chartLeft, y1: rateToY(rate), x2: chartRight, y2: rateToY(rate), stroke: "#1a1a1a", "stroke-width": 1 }));
                const txt = createSVG("text", { x: chartLeft - 8, y: rateToY(rate) + 4, fill: "#4a4540", "font-size": 10, "text-anchor": "end", "font-family": "'IBM Plex Mono', monospace" });
                txt.textContent = `${rate}%`;
                svg.appendChild(txt);
            });

            const lbl100 = createSVG("text", { x: chartLeft - 8, y: rateToY(100) + 4, fill: "#4a4540", "font-size": 10, "text-anchor": "end", "font-family": "'IBM Plex Mono', monospace" });
            lbl100.textContent = "100%";
            svg.appendChild(lbl100);

            [1980, 1990, 2000, 2010, 2020, 2030].forEach(year => {
                svg.appendChild(createSVG("line", { x1: yearToX(year), y1: chartTop, x2: yearToX(year), y2: chartBottom, stroke: "#1a1a1a", "stroke-width": 1 }));
                const txt = createSVG("text", { x: yearToX(year), y: chartBottom + 16, fill: "#4a4540", "font-size": 10, "text-anchor": "middle", "font-family": "'IBM Plex Mono', monospace" });
                txt.textContent = year;
                svg.appendChild(txt);
            });

            svg.appendChild(createSVG("line", { x1: yearToX(2020), y1: chartTop, x2: yearToX(2020), y2: chartBottom, stroke: "#C04040", "stroke-width": 1, "stroke-dasharray": "3,4", opacity: 0.5 }));
            const covidTxt = createSVG("text", { x: yearToX(2020) + 4, y: chartTop + 12, fill: "#C04040", "font-size": 9, "font-family": "'IBM Plex Mono', monospace", opacity: 0.7 });
            covidTxt.textContent = "COVID";
            svg.appendChild(covidTxt);

            svg.appendChild(createSVG("line", { x1: yearToX(2022), y1: chartTop, x2: yearToX(2022), y2: chartBottom, stroke: "#c75b39", "stroke-width": 1, "stroke-dasharray": "3,4", opacity: 0.5 }));
            const gptTxt = createSVG("text", { x: yearToX(2022) + 4, y: chartTop + 24, fill: "#c75b39", "font-size": 9, "font-family": "'IBM Plex Mono', monospace", opacity: 0.7 });
            gptTxt.textContent = "ChatGPT";
            svg.appendChild(gptTxt);

            svg.appendChild(createSVG("rect", { x: yearToX(2025), y: chartTop, width: yearToX(2026.5) - yearToX(2025), height: chartHeight, fill: "#c75b39", opacity: 0.06 }));
            const nowTxt = createSVG("text", { x: yearToX(2025.75), y: chartBottom - 8, fill: "#c75b39", "font-size": 8, "text-anchor": "middle", "font-family": "'IBM Plex Mono', monospace", opacity: 0.8, "letter-spacing": 1 });
            nowTxt.textContent = "NOW";
            svg.appendChild(nowTxt);

            const yLabel = createSVG("text", { x: 12, y: chartTop + chartHeight / 2, fill: "#4a4540", "font-size": 9, "text-anchor": "middle", "font-family": "'IBM Plex Mono', monospace", transform: `rotate(-90, 12, ${chartTop + chartHeight / 2})` });
            yLabel.textContent = "Faculty / Institutional Adoption";
            svg.appendChild(yLabel);

            techData.forEach(tech => {
                const g = createSVG("g", { "data-tech": tech.shortName });
                g.appendChild(createSVG("path", { class: "tech-path", fill: "none", stroke: tech.color, "stroke-width": 2, "data-tech": tech.shortName }));
                if (tech.shortName === "Gen AI") {
                    g.appendChild(createSVG("path", { class: "tech-path tech-future", fill: "none", stroke: tech.color, "stroke-width": 2, "stroke-dasharray": "4,6", opacity: 0 }));
                    const q = createSVG("text", { class: "tech-question", fill: tech.color, "font-size": 16, "font-weight": 700, opacity: 0 });
                    q.textContent = "?";
                    g.appendChild(q);
                }
                svg.appendChild(g);
            });
        }

        function updatePaths() {
            const active = selectedTech || hoveredTech;
            techData.forEach(tech => {
                const path = document.querySelector(`path.tech-path[data-tech="${tech.shortName}"]:not(.tech-future)`);
                if (!path) return;
                const isActive = active === tech.shortName, isOther = active && !isActive;
                path.setAttribute("d", generatePath(tech, animProgress));
                path.setAttribute("stroke-width", isActive ? 3 : 2);
                path.setAttribute("opacity", isOther ? 0.15 : isActive ? 1 : 0.7);

                if (tech.shortName === "Gen AI") {
                    const fp = document.querySelector("path.tech-future");
                    const q = document.querySelector("text.tech-question");
                    if (animProgress > 0.8) {
                        const lastRate = getAdoptionRate(tech, 2026) * animProgress;
                        const pts = [];
                        for (let y = 2026; y <= 2029; y += 0.25) pts.push(`${yearToX(y).toFixed(1)},${rateToY(lastRate + ((y - 2026) / 3) * 55).toFixed(1)}`);
                        fp.setAttribute("d", `M${pts.join("L")}`);
                        fp.setAttribute("opacity", isOther ? 0.08 : 0.35);
                        q.setAttribute("x", yearToX(2029.2));
                        q.setAttribute("y", rateToY(lastRate + 55) + 4);
                        q.setAttribute("opacity", isOther ? 0.1 : 0.6);
                    } else {
                        fp.setAttribute("opacity", 0);
                        q.setAttribute("opacity", 0);
                    }
                }
            });
        }

        function buildLegend() {
            const legend = document.getElementById("legend");
            techData.forEach(tech => {
                const btn = document.createElement("button");
                btn.className = "legend-btn";
                btn.dataset.tech = tech.shortName;
                btn.style.setProperty("--tech-color-bg", tech.color + "18");
                btn.style.setProperty("--tech-color-border", tech.color + "60");
                btn.innerHTML = `<span class="swatch" style="background:${tech.color}"></span><span class="lbl">${tech.shortName}</span>`;
                btn.addEventListener("mouseenter", () => { hoveredTech = tech.shortName; updateHighlights(); });
                btn.addEventListener("mouseleave", () => { hoveredTech = null; updateHighlights(); });
                btn.addEventListener("click", () => { selectedTech = selectedTech === tech.shortName ? null : tech.shortName; updateHighlights(); });
                legend.appendChild(btn);
            });
        }

        function updateHighlights() {
            const active = selectedTech || hoveredTech;
            document.querySelectorAll(".legend-btn").forEach(btn => btn.classList.toggle("active", btn.dataset.tech === active));
            updatePaths();
            updateDetailPanel(active);
        }

        function updateDetailPanel(name) {
            const panel = document.getElementById("detail-panel");
            if (!name) { panel.innerHTML = '<p class="placeholder">Click or hover on a technology to see details</p>'; return; }
            const tech = techData.find(t => t.shortName === name);
            panel.innerHTML = `
                <div class="detail-header">
                    <span class="detail-name" style="color:${tech.color}">${tech.name}</span>
                    <span class="detail-years">${tech.adoptionYears}</span>
                </div>
                <p class="detail-desc">${tech.description}</p>
                <div class="detail-forcing">
                    <span class="detail-forcing-label">Forcing Function:</span>
                    <span class="detail-forcing-value ${tech.shortName === 'Gen AI' ? 'highlight' : ''}">${tech.forcingFunction}</span>
                </div>
            `;
        }

        function animate() {
            let start = null;
            function frame(ts) {
                if (!start) start = ts;
                const p = Math.min((ts - start) / 1800, 1);
                animProgress = p * p * (3 - 2 * p);
                updatePaths();
                if (p < 1) requestAnimationFrame(frame);
            }
            requestAnimationFrame(frame);
        }

        document.addEventListener("DOMContentLoaded", () => { buildChart(); buildLegend(); animate(); });
    </script>
</body>
</html>
